âŸ¨ExtractMetadata,GetArrayNames,GetArray,SerializeArraysâŸ©â†â€¢Import"safetensors.bqn"

# Read a safetensors file generated from Python
â‰ bytesâ†â€¢file.MapBytes"arrs.safetensors"
{â€¢Outğ•©â‹„â€¢Show bytesâŠ¸GetArrayğ•©â‹„âŸ¨âŸ©}Â¨âˆ§GetArrayNames bytes

# Serialize BQN arrays to a safetensors file
aâ†3â€¿2â¥Š1â€¿0â€¿1â€¿1â€¿0â€¿0
bâ†3â€¿4â€¿5â¥Šâ†•60
câ†2â€¿3â¥Š3.14Ã—â†•6
"test.safetensors"â€¢file.Bytes "arr_a"â€¿"arr_b"â€¿"arr_c" SerializeArrays aâ€¿bâ€¿c

# Read the file that was created
â‰ bytesâ†©â€¢file.MapBytes"test.safetensors"
namesâ†âˆ§GetArrayNames bytes
{â€¢Outğ•©â‹„â€¢Show bytesâŠ¸GetArrayğ•©â‹„âŸ¨âŸ©}Â¨names
! aâ‰¡bytes GetArray "arr_a"
! bâ‰¡bytes GetArray "arr_b"
! câ‰¡bytes GetArray "arr_c"
